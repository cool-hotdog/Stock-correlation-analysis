# 30支股票池相关性分析工具 README
## 一、工具用途
这是一个股票相关性分析工具，输入30支A股代码后，工具会自动计算股票之间的关联程度，生成一张彩色热力图，能直观看到哪些股票的涨跌趋势更相似。

## 二、核心功能
1. 自动获取2025年全年股票数据，计算出每天的涨跌幅度。
2. 计算两种关联度指标：皮尔逊系数主要看股票涨跌幅度的线性关联，适合正常市场环境；斯皮尔曼系数主要看股票涨跌方向的关联，不受牛市、熊市等极端行情的影响。在此基础上生成综合系数，用70%皮尔逊系数加30%斯皮尔曼系数计算，结果更贴合实际。
3. 生成热力图，红色代表股票间关联度强，绿色代表关联度弱，每个格子都会标注具体的关联数值。
4. 输出斯皮尔曼系数下，关联程度最强的5对股票排名。

## 三、使用方法
### 1. 安装所需库
打开电脑终端，复制粘贴以下命令并执行，安装工具运行所需的相关库：
pip install tushare pandas scipy matplotlib seaborn numpy

### 2. 配置数据接口
第一步，前往Tushare官网注册账号，获取名为Token的字符。第二步，打开工具代码，找到MY_TOKEN = 'your_tushare_token_here'这一行，将引号内的内容替换为自己获取的Token。

### 3. 运行工具
在终端输入python get_stock_data.py并回车启动工具。按照提示输入30支股票代码，代码必须带有后缀，沪市股票后缀为.SH，深市股票后缀为.SZ，代码之间用空格隔开。如果输入的代码数量不是30，输入y后仍可继续运行。

### 4. 查看结果
运行完成后，电脑屏幕上会直接显示关联度最强的5对股票，同时在本地生成名为combined_correlation_heatmap.png的图片文件，打开该文件就能查看股票关联度的热力图。

## 四、热力图解读
热力图中，红色表示两只股票的关联度高，涨跌趋势相近；黄色表示关联度一般；绿色表示关联度低，涨跌走势差异较大。

## 五、常见问题解决
1. 若出现中文显示乱码的情况，工具会自动适配字体，若仍有乱码，可在代码中添加自己电脑已安装的中文字体名称。
2. 若股票数据获取失败，需检查股票代码是否带有.SH或.SZ后缀，以及Token是否正确。
3. 若热力图无法保存，可将代码文件移动到桌面等有写入权限的文件夹后再运行。

## 六、注意事项
1. 本工具仅用于学习使用，不构成任何投资建议。
2. 使用过程中需遵守Tushare官网的使用规则。
